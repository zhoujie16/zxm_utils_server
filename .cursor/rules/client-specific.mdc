---
description: å‰ç«¯å¼€å‘è§„èŒƒ - React + Vite + React Vant
globs: ['apps/client/**/*']
alwaysApply: false
---

# âš›ï¸ å‰ç«¯å¼€å‘è§„èŒƒ (Client)

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### 1. ç»„ä»¶å¼€å‘

- âœ… **å‡½æ•°ç»„ä»¶**: ä½¿ç”¨å‡½æ•°ç»„ä»¶ + Hooksï¼Œé¿å…ç±»ç»„ä»¶
- âœ… **å‘½åè§„èŒƒ**: ç»„ä»¶ä½¿ç”¨PascalCaseï¼ŒPropsæ¥å£ä½¿ç”¨`I`å‰ç¼€
- âœ… **çŠ¶æ€ç®¡ç†**: æœ¬åœ°çŠ¶æ€ç”¨useStateï¼Œå…¨å±€çŠ¶æ€æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆ
- âœ… **ç»„ä»¶ç»„åˆ**: ä½¿ç”¨ç»„ä»¶ç»„åˆè€Œéç»§æ‰¿
- âœ… **é€»è¾‘åˆ†ç¦»**: é€»è¾‘ä¸UIåˆ†ç¦»ï¼Œä½¿ç”¨ hooks ç®¡ç†æ•°æ®ï¼Œä¿æŒç»„ä»¶çº¯å‡€
- âœ… **ç»„ä»¶ç›®å½•**: æ¯ä¸ªç»„ä»¶éœ€è¦å•ç‹¬ç›®å½•ï¼ŒåŒ…å« `index.tsx`ï¼Œæœ‰æ ·å¼æ—¶éœ€åŒ…å« `index.less`ï¼Œå¦‚æœé€»è¾‘å¤æ‚éœ€è¦ç»„ä»¶æ‹†åˆ†

### 2. æ€§èƒ½ä¼˜åŒ–

- âœ… **React.memo**: å¯¹é«˜å¼€é”€ç»„ä»¶ä½¿ç”¨è®°å¿†åŒ–
- âœ… **useMemo/useCallback**: åˆç†ä½¿ç”¨è®°å¿†åŒ–å‡½æ•°å’Œå€¼
- âœ… **æ‡’åŠ è½½**: è·¯ç”±å’Œç»„ä»¶æŒ‰éœ€åŠ è½½
- âœ… **é¿å…é‡æ¸²æŸ“**: ä¼˜åŒ–ä¾èµ–æ•°ç»„ï¼Œå‡å°‘ä¸å¿…è¦æ›´æ–°

## ğŸ“‹ React Vant ä½¿ç”¨è§„èŒƒ

### UI è®¾è®¡åŸåˆ™

- âœ… **è‡ªå®šä¹‰ UI ä¸ºä¸»**: Client é¡¹ç›®ä»¥è‡ªå®šä¹‰ UI ä¸ºä¸»ï¼Œä¸ä¾èµ– React Vant ä½œä¸ºä¸»è¦ UI æ¡†æ¶
- âœ… **åŸºç¡€ç»„ä»¶è¡¥å……**: React Vant ä»…ä½œä¸ºåŸºç¡€ç»„ä»¶çš„è¡¥å……ï¼Œç”¨äºå®ç°å¤æ‚äº¤äº’åœºæ™¯
- âœ… **æŒ‰éœ€ä½¿ç”¨**: åªåœ¨éœ€è¦æ—¶ä½¿ç”¨ React Vant ç»„ä»¶ï¼Œä¼˜å…ˆè€ƒè™‘è‡ªå®šä¹‰å®ç°

### å…è®¸ä½¿ç”¨çš„ React Vant ç»„ä»¶

ä»¥ä¸‹ç»„ä»¶å¯ä»¥ä½¿ç”¨ React Vantï¼Œå…¶ä»–ç»„ä»¶åº”ä¼˜å…ˆè€ƒè™‘è‡ªå®šä¹‰å®ç°ï¼š

- âœ… **Toast**: æ¶ˆæ¯æç¤ºç»„ä»¶
- âœ… **Dialog**: å¼¹çª—ç»„ä»¶
- âœ… **Picker**: ç§»åŠ¨ç«¯å¼¹çª—é€‰æ‹©å™¨ç»„ä»¶
- âœ… **Calendar**: æ—¥å†ç»„ä»¶
- âœ… **ImagePreview**: å›¾ç‰‡é¢„è§ˆç»„ä»¶

### ç»„ä»¶ä½¿ç”¨æ³¨æ„äº‹é¡¹

- âœ… **æŒ‰éœ€å¯¼å…¥**: æŒ‰éœ€å¯¼å…¥ç»„ä»¶ï¼Œé¿å…å…¨é‡å¯¼å…¥
- âœ… **æ ·å¼éš”ç¦»**: æ³¨æ„ React Vant ç»„ä»¶çš„æ ·å¼éš”ç¦»ï¼Œé¿å…ä¸è‡ªå®šä¹‰æ ·å¼å†²çª
- âœ… **ä¸»é¢˜å®šåˆ¶**: å¦‚éœ€å®šåˆ¶ React Vant ç»„ä»¶æ ·å¼ï¼Œé€šè¿‡ CSS å˜é‡æˆ– Less å˜é‡å®ç°

## ğŸ”„ æ•°æ®è·å–è§„èŒƒ

### API è°ƒç”¨

- âœ… ä½¿ç”¨ `src/services/api.ts` ä¸­å°è£…çš„ HTTP æ–¹æ³•
- âœ… è‡ªå®šä¹‰ Hook å°è£… API è°ƒç”¨
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
- âœ… æä¾›åŠ è½½çŠ¶æ€å’Œé”™è¯¯çŠ¶æ€

### æœ¬åœ°å­˜å‚¨

- âœ… **LocalForage**: ä½¿ç”¨ LocalForage è¿›è¡Œæœ¬åœ°æ•°æ®æŒä¹…åŒ–
- âœ… **æ•°æ®ç¼“å­˜**: åˆç†ä½¿ç”¨ç¼“å­˜ç­–ç•¥ï¼Œæå‡ç”¨æˆ·ä½“éªŒ

## ğŸ¨ æ ·å¼å’Œå¸ƒå±€

### æ ·å¼ç»„ç»‡

- âœ… **æ ·å¼æ–¹æ¡ˆ**: ä¼˜å…ˆä½¿ç”¨ Less
- âœ… **æ ·å¼æ¨¡å—åŒ–**: ç»„ä»¶æ ·å¼ä¸ç»„ä»¶æ–‡ä»¶åŒçº§
- âœ… **å“åº”å¼è®¾è®¡**: è€ƒè™‘ä¸åŒå±å¹•å°ºå¯¸çš„é€‚é…

### BEM å‘½åè§„èŒƒ

- âœ… **å—ï¼ˆBlockï¼‰**: `.user-card`
- âœ… **å…ƒç´ ï¼ˆElementï¼‰**: `.user-card__avatar`ã€`.user-card__name`
- âœ… **ä¿®é¥°ç¬¦ï¼ˆModifierï¼‰**: `.user-card--active`ã€`.user-card__avatar--large`
- âœ… **å‘½åè§„åˆ™**: ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼Œé¿å…ä¸‹åˆ’çº¿ï¼ˆé™¤ BEM åˆ†éš”ç¬¦å¤–ï¼‰

### DOM å±‚çº§æ³¨æ„äº‹é¡¹

- âœ… **åµŒå¥—æ·±åº¦**: é¿å…è¿‡æ·±çš„ DOM åµŒå¥—ï¼ˆå»ºè®®ä¸è¶…è¿‡ 5 å±‚ï¼‰
- âœ… **è¯­ä¹‰åŒ–æ ‡ç­¾**: åˆç†ä½¿ç”¨è¯­ä¹‰åŒ– HTML5 æ ‡ç­¾
- âœ… **é€‰æ‹©å™¨æ€§èƒ½**: æ³¨æ„é€‰æ‹©å™¨çš„æ€§èƒ½ï¼Œé¿å…è¿‡äºå¤æ‚çš„åµŒå¥—é€‰æ‹©å™¨
- âœ… **æ ·å¼ä½œç”¨åŸŸ**: ä¿æŒæ ·å¼çš„ä½œç”¨åŸŸæ¸…æ™°ï¼Œé¿å…æ ·å¼æ±¡æŸ“
- âœ… **å”¯ä¸€å‘½å**: æ ·å¼æœ€å¤–å±‚ class å°½é‡å‘½åå”¯ä¸€ï¼Œé¿å…ä¸å…¶ä»–ç»„ä»¶æ ·å¼å†²çª

## ğŸ“Š å›¾æ ‡å’Œè·¯ç”±

### å›¾æ ‡ç»„ä»¶

- âœ… **å›¾æ ‡åº“**: ç»Ÿä¸€ä½¿ç”¨ lucide-react åº“
- âœ… **æ ·å¼è‡ªå®šä¹‰**: å¯é€šè¿‡ `size`ã€`color`ã€`strokeWidth` ç­‰å±æ€§è‡ªå®šä¹‰æ ·å¼
- âœ… **ä¸ React Vant å›¾æ ‡**: å¯ä¸ React Vant å†…ç½®å›¾æ ‡æ··åˆä½¿ç”¨ï¼ŒæŒ‰éœ€é€‰æ‹©

### è·¯ç”±ç®¡ç†

- âœ… **React Router**: ä½¿ç”¨ React Router 7.x è¿›è¡Œè·¯ç”±ç®¡ç†
- âœ… **è·¯ç”±æ‡’åŠ è½½**: ä½¿ç”¨ lazy å’Œ Suspense å®ç°è·¯ç”±æ‡’åŠ è½½
- âœ… **è·¯ç”±å®ˆå«**: æ ¹æ®éœ€è¦å®ç°è·¯ç”±å®ˆå«ï¼ˆå¦‚ç™»å½•éªŒè¯ï¼‰

## ğŸš¨ å¼ºåˆ¶è¦æ±‚

1. **ç§»åŠ¨ç«¯ä¼˜å…ˆ**: Client æ˜¯ç§»åŠ¨ç«¯åº”ç”¨ï¼Œç¡®ä¿åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæµ‹è¯•
2. **æ€§èƒ½ä¼˜åŒ–**: åˆ—è¡¨ç»„ä»¶å¿…é¡»æ·»åŠ keyå±æ€§ï¼Œå¤§æ•°æ®é‡ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
3. **ç¦æ­¢æ„å»ºéªŒè¯**: ä¿®æ”¹clienté¡¹ç›®ä»£ç åï¼Œä¸éœ€è¦è¿è¡Œbuildå‘½ä»¤è¿›è¡ŒéªŒè¯
4. **è‡ªå®šä¹‰ UI ä¼˜å…ˆ**: ä¼˜å…ˆä½¿ç”¨è‡ªå®šä¹‰ UI ç»„ä»¶ï¼ŒReact Vant ä»…ç”¨äº Toastã€Dialogã€Pickerã€Calendarã€ImagePreview ç­‰åŸºç¡€ç»„ä»¶
5. **é¿å…è¿‡åº¦ä¾èµ–**: ä¸è¦è¿‡åº¦ä¾èµ– React Vantï¼Œä¿æŒ UI çš„ç‹¬ç«‹æ€§å’Œå¯å®šåˆ¶æ€§

> å…¶ä»–é€šç”¨è§„èŒƒè¯·å‚è€ƒ `base.mdc`
